---
title: Nginx的反向代理与负载均衡
date: 2018-02-17
categories: 
- 服务端
tags: 
- 服务端
- 运维
- nginx
- 负载均衡
---

### 什么是反向代理与负载均衡
- 正向代理：  明确知道要访问的是哪个网站、服务器
- 反向代理： 不明确是访问的哪个服务器 
- 负载均衡： 挑压力小的服务器返回数据，分担了负载压力。

### Nginx负载均衡的实现
- Nginx利用反向代理实现负载均衡

### Http Upstream模块：实现
- ip_hash指令：保证用户再次访问还是落地之前的服务器上
- server指令：权重

### 其他负载均衡的方法
### 部署NodeJs上线步骤
![部署NodeJs上线步骤](部署NodeJs上线步骤.png)
![Nginx配置文件](Nginx配置文件.png)
### PM2动态监测文件
- 能够动态的监控文件的上传 0秒热启动
- 能够负载均衡  cpu
- 内存使用过多  cpu调度太频繁  重启
- restart 个数 （重启次数）
![pm2.json文件配置](pm2.json文件配置.png)
![盖世绝学](盖世绝学.png)


