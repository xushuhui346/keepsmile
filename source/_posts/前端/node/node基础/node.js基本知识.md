---
title: node.js基本知识
date: 2017-12-12
categories: 
- 前端
tags: 
- 前端
- web
- node
---

### 一、node.js回调函数
#### 1.什么是回调
- 函数调用方式分为3种：同步调用、回调和异步调用。
- 回调是一种双向调用模式
- 可以通过回调函数来实现回调

#### 2.阻塞与非阻塞
- 阻塞和非阻塞关注的是程序在等待调用结果（消息，返回值）时的状态。
- 阻塞就是做不完不准回来
- 非阻塞就是你先做，我先看看有没有其他事情，完了告诉我一声

#### node.js的回调函数
![阻塞、非阻塞、回调函数](阻塞、非阻塞、回调函数.png)
非阻塞代码执行结果是先 console.log('程序执行完毕！')，再打印data.txt文件中的内容

### 二、node.js事件驱动机制
#### 1.事件驱动模型(非阻塞性IO)
![事件驱动模型](事件驱动模型.png)
#### 2.事件与事件绑定
事件处理代码流程
- 1.引入events对象，创建eventEmitter对象
- 2.绑定事件处理程序
- 3.触发事件
![事件绑定与触发](事件绑定与触发.png)

### 三、node.js模块化
#### 1.模块化的概念与意义
- 为了让node.js的文件可以相互调用，node.js提供了一个简单的模块系统。
- 模块是node.js应用程序的基本组成部分。
- 文件和模块是一一对应的。一个node.js文件就是一个模块。
- 这个文件可能是JavaScript代码、JSON或者编译过的C/C++扩展。
- node.js中存在4类模块（原生模块和3种文件模块）

#### 2.node.js的模块加载流程
- 1.从文件模块缓存中加载
- 2.从原生模块加载
- 3.从文件加载
![node.js的模块加载流程](node.js的模块加载流程.png)

require方法接受以下几种参数的传递：
- http、fs、path等，原生模块。
- ./mod或../mode，相对路径的文件模块。
- /pathtomodule/mod，绝对路径的文件模块。
- mod，非原生模块的文件模块。

#### 3.模块化代码案例

![被引入模块](被引入模块.png)
![主函数](主函数.png)

### 四、node.js函数
#### 1.函数概念
- 1.在JavaScript中，一个函数可以作为另一个函数的参数。
- 2.我们可以先定义一个函数，然后传递，也可以在传递参数的地方直接定义函数。
- 3.node.js中函数的使用与JavaScript类似。
![函数举例](函数举例.png)

#### 2.匿名函数
- 我们可以把一个函数作为变量传递。
- 不一定“先定义，再传递”，可以 直接在另一个函数的括号中定义和传递这个函数。

![匿名函数](匿名函数.png)

#### http服务器端的函数传递
![函数传递两种方式](函数传递两种方式.png)

### 五、node.js路由
